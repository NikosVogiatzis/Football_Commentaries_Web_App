<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/matches.css">
    <link rel="stylesheet" href="/index.css">
	<link rel="stylesheet" href="/players.css">
    <title>Document</title>
	
	<script>
	        function handleLinkClick(event, queryType) {
	            event.preventDefault();
	            fetch(`/run-query?queryType=${queryType}`, {
	                method: 'GET'
	            })
	            .then(response => response.text())
	            .then(data => {
	                const resultsDiv = document.getElementById('results');
	                resultsDiv.innerHTML = data;
	                resultsDiv.style.display = 'block'; // Show the results div
	            })
	            .catch(error => console.error('Error:', error));
	        }

	        document.addEventListener('DOMContentLoaded', () => {
	            document.addEventListener('click', (event) => {
	                // Close all dropdowns when clicking outside
	                if (!event.target.matches('.dropdown-button')) {
	                    document.querySelectorAll('.dropdown-items').forEach(dropdown => {
	                        dropdown.style.display = 'none';
	                    });
	                }
	            });

	            document.querySelectorAll('.dropdown-button').forEach(button => {
	                button.addEventListener('click', () => {
	                    const dropdownItems = button.nextElementSibling;
	                    dropdownItems.style.display = dropdownItems.style.display === 'block' ? 'none' : 'block';
	                });
	            });

	            document.querySelectorAll('.dropdown-item').forEach(item => {
	                item.addEventListener('click', (event) => {
	                    const button = item.closest('.dropdown-container').querySelector('.dropdown-button');
	                    button.innerText = event.target.innerText;
	                    item.closest('.dropdown-items').style.display = 'none';
	                });
	            });
	        });
	    </script>
</head>
<body>
    <div class="container">
        <h2> Here you can try and run some SPARQL queries on general statistics about the 30 matches </h2>
        <br>
        <h3> Options:</h3>
        <br>
		
		<a href="#" class="button" id="matches_options" onclick="handleLinkClick(event, 'top_scorrers')">View top 10 scorrers of the last 30 games played on CL 2023/2024</a> <br>
		<a href="#" class="button" id="matches_options" onclick="handleLinkClick(event, 'goals')">View all goals scored in each match, the scorer, and the minute goal scored</a> <br>
		<a href="#" class="button" id="matches_options" onclick="handleLinkClick(event, 'players_violations')">View all fouls and attacking attempts that took place in each game</a> <br>
		<a href="#" class="button" id="matches_options" onclick="handleLinkClick(event, 'MVP')">View 5 MVP players of the last 30 games </a> <br>

		<div id="results"></div>
		<br><br>
		  <a href="/index" class="button" id="HomeButton"> Home</a>
    </div>
	
    <footer>
  
    </footer>
    

</body>
</html>